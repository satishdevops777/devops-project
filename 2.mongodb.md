# MongoDB Setup for RoboShop

This document explains how to install and configure **MongoDB 4.x** for the RoboShop application. It is written in a **GitHub-ready format** and follows **real-world DevOps / SRE practices**.

---

## üìå Why MongoDB?

* The RoboShop application uses **MongoDB** as a **NoSQL document database**.
* Services such as **Catalogue** and **User** depend on MongoDB.
* The developer has specified the required version as **MongoDB 4.x**.

> ‚ö†Ô∏è **Always install the database version recommended by the developer.**

---

## üß± Configure MongoDB Repository

MongoDB packages are not available in default RHEL/CentOS repositories. We must configure the **official MongoDB repository**.

### Create repository file

**File:** `/etc/yum.repos.d/mongo.repo`

```ini
[mongodb-org-4.2]          # Repository ID (must be unique)
name=MongoDB Repository   # Human-readable name
baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.2/x86_64/
gpgcheck=0
enabled=1
```

---

### üîç Repository URL Breakdown

| Component                  | Description                  |
| -------------------------- | ---------------------------- |
| `https://repo.mongodb.org` | Official MongoDB repository  |
| `/yum/redhat/`             | RHEL-based operating systems |
| `$releasever`              | OS version (auto-detected)   |
| `mongodb-org/4.2/`         | MongoDB version (4.x)        |
| `x86_64/`                  | 64-bit architecture          |

---

## üîê Repository Options Explained

### `gpgcheck=0`

* Disables GPG signature verification
* Simplifies setup for **labs and learning**

> ‚ö†Ô∏è In production, `gpgcheck=1` is recommended for security compliance.

---

### `enabled=1`

| Value | Meaning               |
| ----- | --------------------- |
| `1`   | Repository enabled ‚úÖ  |
| `0`   | Repository disabled ‚ùå |

---

## üì¶ Install MongoDB

```bash
dnf install mongodb-org -y
```

This installs:

* MongoDB Server (`mongod`)
* MongoDB Shell
* MongoDB Tools

---

## ‚ñ∂Ô∏è Start and Enable MongoDB Service

```bash
systemctl enable mongod
systemctl start mongod
```

Verify service status:

```bash
systemctl status mongod
```

Expected output:

```text
active (running)
```

---

## üåê Enable Remote Access to MongoDB

### Default Behavior

MongoDB listens only on:

```text
127.0.0.1 (localhost)
```

This means:

* Only applications on the **same server** can connect
* Remote RoboShop services **cannot access MongoDB**

---

### Update Bind Address

Edit MongoDB configuration file:

```bash
vim /etc/mongod.conf
```

Change:

```text
127.0.0.1
```

To:

```text
0.0.0.0
```

### What does `0.0.0.0` mean?

* MongoDB accepts connections from **all network interfaces**
* Required when MongoDB is accessed from **other servers**

---

### Restart MongoDB

```bash
systemctl restart mongod
```

---

## üö® Common Issues & Troubleshooting

| Issue                  | Possible Cause                 |
| ---------------------- | ------------------------------ |
| 404 error              | Incorrect `$releasever`        |
| Repository unreachable | Network / proxy issue          |
| Installation fails     | OS version mismatch            |
| Connection refused     | Firewall or bind address issue |
| Security audit failure | `gpgcheck=0`                   |

---

## ‚úÖ Validation Checklist

* [x] MongoDB 4.x installed
* [x] MongoDB service running
* [x] Repository configured correctly
* [x] MongoDB accessible from remote servers

---


üöÄ **MongoDB setup for RoboShop is complete and ready for integration.**

